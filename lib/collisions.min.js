var Collision;(function(){'use strict';Collision={targetId:null,obstacles:[],setTargetId:function(id){this.targetId=id;},updateObstacles:function(selector){var i,elements=document.getElementsByClassName(selector),numElements=elements.length,obstacle;this.obstacles=[];for(i=0;i<numElements;i++){obstacle={'className':elements[i].className,'rect':elements[i].getBoundingClientRect()};this.obstacles.push(obstacle);}},getCollisions:function(){var i,collision,collisions=[],horizontalEDiff,horizontalWDiff,numObstacles=this.obstacles.length,targetElement=document.getElementById(this.targetId).getBoundingClientRect(),touchingEast,touchingNorth,touchingSouth,touchingWest,obstacle,verticalSDiff,verticalNDiff;for(i=0;i<numObstacles;i++){horizontalEDiff=0;horizontalWDiff=0;touchingEast=false;touchingNorth=false;touchingSouth=false;touchingWest=false;verticalSDiff=0;verticalNDiff=0;obstacle=this.obstacles[i];if(targetElement.left+targetElement.width>obstacle.rect.left&&targetElement.left<obstacle.rect.left+obstacle.rect.width){verticalSDiff=obstacle.rect.top+obstacle.rect.height-targetElement.top;verticalNDiff=obstacle.rect.top-targetElement.top;if(verticalSDiff>=0&&verticalSDiff<targetElement.height){touchingSouth=true;}else if(verticalNDiff>=0&&verticalNDiff<targetElement.height){touchingNorth=true;}
horizontalEDiff=obstacle.rect.left+obstacle.rect.width-targetElement.left;horizontalWDiff=obstacle.rect.left-targetElement.left;if(horizontalEDiff>=0&&horizontalEDiff<targetElement.width){touchingEast=true;}else if(horizontalWDiff>=0&&horizontalWDiff<targetElement.width){touchingWest=true;}}
if(targetElement.left<obstacle.rect.left+obstacle.rect.width&&targetElement.left+targetElement.width>obstacle.rect.left&&targetElement.top<obstacle.rect.top+obstacle.rect.height&&targetElement.height+targetElement.top>obstacle.rect.top){collision={'obstacle':obstacle,'horizontalEDiff':horizontalEDiff,'horizontalWDiff':horizontalWDiff,'touchingEast':touchingEast,'touchingNorth':touchingNorth,'touchingSouth':touchingSouth,'touchingWest':touchingWest,'verticalSDiff':verticalSDiff,'verticalNDiff':verticalNDiff};collisions.push(collision);}}
return collisions;}};}());